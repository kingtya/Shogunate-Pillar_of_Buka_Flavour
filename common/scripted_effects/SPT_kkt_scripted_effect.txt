# 注：此处每一个flag对应一个国策，root为当前角色，如果需要动态显示国策，用if判断即可
SPT_init_conservative_poilcy_flag_list = {
	add_to_variable_list = {
		name = SPT_conservative_policy_flags
		target = flag:flag_spt_policy_canal_improvements
	}
	add_to_variable_list = {
		name = SPT_conservative_policy_flags
		target = flag:flag_spt_policy_council_system
	}
	add_to_variable_list = {
		name = SPT_conservative_policy_flags
		target = flag:flag_spt_policy_official_purveyor
	}
	add_to_variable_list = {
		name = SPT_conservative_policy_flags
		target = flag:flag_spt_policy_buddhism_sanction
	}
	add_to_variable_list = {
		name = SPT_conservative_policy_flags
		target = flag:flag_spt_policy_foster_system
	}

}
SPT_init_neutral_poilcy_flag_list = {
	add_to_variable_list = {
		name = SPT_neutral_policy_flags
		target = flag:flag_spt_policy_direct_daimyo_rule
	}
	add_to_variable_list = {
		name = SPT_neutral_policy_flags
		target = flag:flag_spt_policy_improve_labor
	}
	add_to_variable_list = {
		name = SPT_neutral_policy_flags
		target = flag:flag_spt_policy_deploy_draftee
	}
	add_to_variable_list = {
		name = SPT_neutral_policy_flags
		target = flag:flag_spt_policy_improve_militia
	}
	add_to_variable_list = {
		name = SPT_neutral_policy_flags
		target = flag:flag_spt_policy_post_horse_system
	}
	add_to_variable_list = {
		name = SPT_neutral_policy_flags
		target = flag:flag_spt_policy_distant_diplomacy
	}

}
SPT_init_progressive_poilcy_flag_list = {
	add_to_variable_list = {
		name = SPT_progressive_policy_flags
		target = flag:flag_spt_policy_soidier_professionaliztion
	}
	add_to_variable_list = {
		name = SPT_progressive_policy_flags
		target = flag:flag_spt_policy_easy_commerce
	}
	add_to_variable_list = {
		name = SPT_progressive_policy_flags
		target = flag:flag_spt_policy_western_sanction
	}
	add_to_variable_list = {
		name = SPT_progressive_policy_flags
		target = flag:flag_spt_policy_improve_firearms
	}
	add_to_variable_list = {
		name = SPT_progressive_policy_flags
		target = flag:flag_spt_policy_meritocracy
	}
	add_to_variable_list = {
		name = SPT_progressive_policy_flags
		target = flag:flag_spt_policy_supply_transporter
	}
}

SPT_clear_flag_list = {
	clear_variable_list = SPT_conservative_poliy_flags
	clear_variable_list = SPT_neutral_policy_flags
	clear_variable_list = SPT_progressive_poliy_flags
}

SPT_kkt_set_modifier_to_character = {
	show_as_tooltip = { # 作为显示效果，不实际执行
		switch = {
			trigger = $FLAG$

			flag:flag_spt_policy_direct_daimyo_rule = {
				$ACTION$_character_modifier = spt_policy_direct_daimyo_rule_modifier
			}
			flag:flag_spt_policy_improve_labor = {
				$ACTION$_character_modifier = spt_policy_improve_labor_modifier
			}
			flag:flag_spt_policy_deploy_draftee = {
				$ACTION$_character_modifier = spt_policy_deploy_draftee_modifier
			}
			flag:flag_spt_policy_improve_militia = {
				$ACTION$_character_modifier = spt_policy_improve_militia_modifier
			}
			flag:flag_spt_policy_post_horse_system = {
				$ACTION$_character_modifier = spt_policy_post_horse_system_modifier
			}
			flag:flag_spt_policy_distant_diplomacy = {
				$ACTION$_character_modifier = spt_policy_distant_diplomacy_modifier
			}
		}
	}
	hidden_effect = { # 实际执行
		if = {
			limit = {
				$CONFIRM$ = yes #发布国策
			}
			switch = {
				trigger = $FLAG$
		
				flag:flag_spt_policy_direct_daimyo_rule = {
					$ACTION$_character_modifier = spt_policy_direct_daimyo_rule_modifier
				}
				flag:flag_spt_policy_improve_labor = {
					$ACTION$_character_modifier = spt_policy_improve_labor_modifier
				}
				flag:flag_spt_policy_deploy_draftee = {
					$ACTION$_character_modifier = spt_policy_deploy_draftee_modifier
				}
				flag:flag_spt_policy_improve_militia = {
					$ACTION$_character_modifier = spt_policy_improve_militia_modifier
				}
				flag:flag_spt_policy_post_horse_system = {
					$ACTION$_character_modifier = spt_policy_post_horse_system_modifier
				}
				flag:flag_spt_policy_distant_diplomacy = {
					$ACTION$_character_modifier = spt_policy_distant_diplomacy_modifier
				}
			}
		}
		if = {
			limit = {
				$CONFIRM$ = no #撤销国策
			}
		}
	}
}

SPT_kkt_set_cost_to_character = { #国策花费 只会在发布时候应用
	switch = {
		trigger = $FLAG$

		flag:flag_kkt_1 = {
			remove_short_term_gold = 10
		}
		flag:flag_kkt_2 = {
			remove_short_term_gold = 20
		}
		flag:flag_kkt_3 = {
			remove_short_term_gold = 30
		}
		flag:flag_kkt_4 = {
			remove_short_term_gold = 40
		}
		flag:flag_kkt_5 = {
			remove_short_term_gold = 50
		}
		flag:flag_kkt_6 = {
			remove_short_term_gold = 60
		}
	}
}